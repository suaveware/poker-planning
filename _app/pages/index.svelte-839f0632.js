import{S as q,i as K,s as z,e as k,t as U,k as A,c as M,a as b,g as V,d as _,n as j,b as d,f as I,D as h,R as te,H as R,Q as G,M as oe,I as ye,J as Se,K as Ee,x as D,F as Ne,T as ce,u as B,l as ue,r as fe,w as de,E as Ce,U as me,V as le,W as _e,X as J,Y as Q,j as W,m as X,o as Y,Z,v as x,_ as he,$ as re,a0 as ne,a1 as ae,h as Te,a2 as Le,a3 as Ie,a4 as Re,a5 as De,N as Be,A as pe,a6 as Ae,a7 as je}from"../chunks/vendor-227c15ea.js";import{r as Pe}from"../chunks/singletons-12a22614.js";import{m as ge,s as se}from"../chunks/state-1fa2f7c3.js";function Ue(s){let e,t,o,n,r,c,i,l,a,m,g;return{c(){e=k("label"),t=k("span"),o=U("First Time? Choose a name."),n=A(),r=k("span"),c=k("input"),i=A(),l=k("button"),a=U("go"),this.h()},l(u){e=M(u,"LABEL",{for:!0,class:!0});var p=b(e);t=M(p,"SPAN",{class:!0});var y=b(t);o=V(y,"First Time? Choose a name."),y.forEach(_),n=j(p),r=M(p,"SPAN",{class:!0});var E=b(r);c=M(E,"INPUT",{id:!0,class:!0,placeholder:!0}),i=j(E),l=M(E,"BUTTON",{class:!0});var N=b(l);a=V(N,"go"),N.forEach(_),E.forEach(_),p.forEach(_),this.h()},h(){d(t,"class","label-text"),d(c,"id","name"),d(c,"class","input pr-16"),d(c,"placeholder","Player Name"),d(l,"class","absolute top-0 right-0 rounded-l-none btn btn-primary"),d(r,"class","relative"),d(e,"for","name"),d(e,"class","label flex flex-col space-y-4 items-start")},m(u,p){I(u,e,p),h(e,t),h(t,o),h(e,n),h(e,r),h(r,c),te(c,s[0]),h(r,i),h(r,l),h(l,a),m||(g=[R(c,"input",s[3]),R(l,"click",s[1])],m=!0)},p(u,[p]){p&1&&c.value!==u[0]&&te(c,u[0])},i:G,o:G,d(u){u&&_(e),m=!1,oe(g)}}}function Ve(s,e,t){let{onSubmit:o=()=>{}}=e,n="";const r=()=>{localStorage.setItem("name",n),o(n)};function c(){n=this.value,t(0,n)}return s.$$set=i=>{"onSubmit"in i&&t(2,o=i.onSubmit)},[n,r,o,c]}class Fe extends q{constructor(e){super();K(this,e,Ve,Ue,z,{onSubmit:2})}}const Oe=Pe,$e=He;async function He(s,e){return Oe.goto(s,e,[])}const qe=s=>({}),be=s=>({closeModal:s[0],openModal:s[1]});function ve(s){let e,t,o,n,r,c;const i=s[4].default,l=Ce(i,s,s[3],be);return{c(){e=k("div"),t=k("span"),l&&l.c(),this.h()},l(a){e=M(a,"DIV",{class:!0});var m=b(e);t=M(m,"SPAN",{class:!0});var g=b(t);l&&l.l(g),g.forEach(_),m.forEach(_),this.h()},h(){d(t,"class","w-full h-full grid place-items-center"),d(e,"class","fixed inset-0 bg-black bg-opacity-50 z-50")},m(a,m){I(a,e,m),h(e,t),l&&l.m(t,null),n=!0,r||(c=R(e,"click",s[0]),r=!0)},p(a,m){l&&l.p&&(!n||m&8)&&ye(l,i,a,a[3],n?Ee(i,a[3],m,qe):Se(a[3]),be)},i(a){n||(D(l,a),Ne(()=>{o||(o=ce(t,me,{duration:200,y:40,opacity:0},!0)),o.run(1)}),n=!0)},o(a){B(l,a),o||(o=ce(t,me,{duration:200,y:40,opacity:0},!1)),o.run(0),n=!1},d(a){a&&_(e),l&&l.d(a),a&&o&&o.end(),r=!1,c()}}}function Ke(s){let e,t,o=s[2]&&ve(s);return{c(){o&&o.c(),e=ue()},l(n){o&&o.l(n),e=ue()},m(n,r){o&&o.m(n,r),I(n,e,r),t=!0},p(n,[r]){n[2]?o?(o.p(n,r),r&4&&D(o,1)):(o=ve(n),o.c(),D(o,1),o.m(e.parentNode,e)):o&&(fe(),B(o,1,1,()=>{o=null}),de())},i(n){t||(D(o),t=!0)},o(n){B(o),t=!1},d(n){o&&o.d(n),n&&_(e)}}}function ze(s,e,t){let{$$slots:o={},$$scope:n}=e,r=!1;const c=()=>{t(2,r=!1)},i=()=>{t(2,r=!0)};return s.$$set=l=>{"$$scope"in l&&t(3,n=l.$$scope)},[c,i,r,n,o]}class ke extends q{constructor(e){super();K(this,e,ze,Ke,z,{closeModal:0,openModal:1})}get closeModal(){return this.$$.ctx[0]}get openModal(){return this.$$.ctx[1]}}function Ge(s){let e,t,o,n,r,c,i,l,a,m,g,u,p,y,E;return{c(){e=k("div"),t=k("label"),o=k("span"),n=U("Room Name"),r=A(),c=k("input"),i=A(),l=k("div"),a=k("button"),m=U("Cancel"),g=A(),u=k("button"),p=U("Save"),this.h()},l(N){e=M(N,"DIV",{class:!0});var S=b(e);t=M(S,"LABEL",{for:!0,class:!0});var C=b(t);o=M(C,"SPAN",{class:!0});var P=b(o);n=V(P,"Room Name"),P.forEach(_),r=j(C),c=M(C,"INPUT",{id:!0,class:!0,placeholder:!0}),C.forEach(_),i=j(S),l=M(S,"DIV",{class:!0});var L=b(l);a=M(L,"BUTTON",{class:!0});var F=b(a);m=V(F,"Cancel"),F.forEach(_),g=j(L),u=M(L,"BUTTON",{class:!0});var O=b(u);p=V(O,"Save"),O.forEach(_),L.forEach(_),S.forEach(_),this.h()},h(){d(o,"class","label-text"),d(c,"id","name"),d(c,"class","input pr-16"),d(c,"placeholder","Player Name"),d(t,"for","name"),d(t,"class","label flex flex-col space-y-4 items-start"),d(a,"class","btn btn-ghost"),d(u,"class","btn btn-primary"),le(u,"loading",s[1]),d(l,"class","flex space-x-2 justify-end"),d(e,"class","flex flex-col space-y-4")},m(N,S){I(N,e,S),h(e,t),h(t,o),h(o,n),h(t,r),h(t,c),te(c,s[0].name),h(e,i),h(e,l),h(l,a),h(a,m),h(l,g),h(l,u),h(u,p),y||(E=[R(c,"input",s[4]),R(a,"click",function(){_e(s[3])&&s[3].apply(this,arguments)}),R(u,"click",s[5])],y=!0)},p(N,[S]){s=N,S&1&&c.value!==s[0].name&&te(c,s[0].name),S&2&&le(u,"loading",s[1])},i:G,o:G,d(N){N&&_(e),y=!1,oe(E)}}}function Je(s,e,t){let{isLoading:o=!1}=e,{room:n=ge()}=e,{onSave:r=()=>{}}=e,{onCancel:c=()=>{}}=e;function i(){n.name=this.value,t(0,n)}const l=()=>r(n);return s.$$set=a=>{"isLoading"in a&&t(1,o=a.isLoading),"room"in a&&t(0,n=a.room),"onSave"in a&&t(2,r=a.onSave),"onCancel"in a&&t(3,c=a.onCancel)},[n,o,r,c,i,l]}class Qe extends q{constructor(e){super();K(this,e,Je,Ge,z,{isLoading:1,room:0,onSave:2,onCancel:3})}}function We(s){let e,t,o,n,r,c;return o=new Qe({props:{room:s[3],isLoading:s[2],onCancel:s[5],onSave:s[4]}}),{c(){e=k("div"),t=k("div"),W(o.$$.fragment),this.h()},l(i){e=M(i,"DIV",{class:!0});var l=b(e);t=M(l,"DIV",{class:!0});var a=b(t);X(o.$$.fragment,a),a.forEach(_),l.forEach(_),this.h()},h(){d(t,"class","card-body"),d(e,"class","card bg-base-200")},m(i,l){I(i,e,l),h(e,t),Y(o,t,null),n=!0,r||(c=R(e,"click",re(s[6])),r=!0)},p(i,l){const a={};l&8&&(a.room=i[3]),l&4&&(a.isLoading=i[2]),l&16&&(a.onSave=i[4]),o.$set(a)},i(i){n||(D(o.$$.fragment,i),n=!0)},o(i){B(o.$$.fragment,i),n=!1},d(i){i&&_(e),x(o),r=!1,c()}}}function Xe(s){let e,t,o,n;function r(l){s[7](l)}function c(l){s[8](l)}let i={$$slots:{default:[We]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.openModal=s[0]),s[1]!==void 0&&(i.closeModal=s[1]),e=new ke({props:i}),J.push(()=>Q(e,"openModal",r)),J.push(()=>Q(e,"closeModal",c)),{c(){W(e.$$.fragment)},l(l){X(e.$$.fragment,l)},m(l,a){Y(e,l,a),n=!0},p(l,[a]){const m={};a&540&&(m.$$scope={dirty:a,ctx:l}),!t&&a&1&&(t=!0,m.openModal=l[0],Z(()=>t=!1)),!o&&a&2&&(o=!0,m.closeModal=l[1],Z(()=>o=!1)),e.$set(m)},i(l){n||(D(e.$$.fragment,l),n=!0)},o(l){B(e.$$.fragment,l),n=!1},d(l){x(e,l)}}}function Ye(s,e,t){let{isLoading:o=!1}=e,{room:n=ge()}=e,{onSubmit:r=()=>{}}=e,{openModal:c=()=>{}}=e,{closeModal:i=()=>{}}=e;const l=()=>{i()};function a(u){he.call(this,s,u)}function m(u){c=u,t(0,c)}function g(u){i=u,t(1,i)}return s.$$set=u=>{"isLoading"in u&&t(2,o=u.isLoading),"room"in u&&t(3,n=u.room),"onSubmit"in u&&t(4,r=u.onSubmit),"openModal"in u&&t(0,c=u.openModal),"closeModal"in u&&t(1,i=u.closeModal)},[c,i,o,n,r,l,a,m,g]}class Ze extends q{constructor(e){super();K(this,e,Ye,Xe,z,{isLoading:2,room:3,onSubmit:4,openModal:0,closeModal:1})}}function Me(s,e,t){const o=s.slice();return o[20]=e[t],o}function xe(s){let e,t,o,n,r,c,i,l,a,m;return{c(){e=k("div"),t=U(`Are you sure you want to delete this room? It will be deleted for everyone.
		`),o=k("div"),n=k("button"),r=U("Cancel"),c=A(),i=k("button"),l=U("Delete"),this.h()},l(g){e=M(g,"DIV",{class:!0});var u=b(e);t=V(u,`Are you sure you want to delete this room? It will be deleted for everyone.
		`),o=M(u,"DIV",{class:!0});var p=b(o);n=M(p,"BUTTON",{class:!0});var y=b(n);r=V(y,"Cancel"),y.forEach(_),c=j(p),i=M(p,"BUTTON",{class:!0});var E=b(i);l=V(E,"Delete"),E.forEach(_),p.forEach(_),u.forEach(_),this.h()},h(){d(n,"class","btn btn-ghost"),d(i,"class","btn btn-error"),le(i,"loading",s[1]),d(o,"class","modal-action"),d(e,"class","modal-box")},m(g,u){I(g,e,u),h(e,t),h(e,o),h(o,n),h(n,r),h(o,c),h(o,i),h(i,l),a||(m=[R(n,"click",function(){_e(s[5])&&s[5].apply(this,arguments)}),R(i,"click",s[11]),R(e,"click",re(s[12]))],a=!0)},p(g,u){s=g,u&2&&le(i,"loading",s[1])},d(g){g&&_(e),a=!1,oe(m)}}}function we(s,e){let t,o,n=e[20].name+"",r,c,i,l,a,m,g,u=G,p,y;function E(){return e[17](e[20])}function N(){return e[18](e[20])}return{key:s,first:null,c(){t=k("button"),o=k("span"),r=U(n),c=A(),i=k("span"),l=k("button"),a=ne("svg"),m=ne("path"),this.h()},l(S){t=M(S,"BUTTON",{class:!0});var C=b(t);o=M(C,"SPAN",{});var P=b(o);r=V(P,n),P.forEach(_),c=j(C),i=M(C,"SPAN",{class:!0});var L=b(i);l=M(L,"BUTTON",{class:!0});var F=b(l);a=ae(F,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var O=b(a);m=ae(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(m).forEach(_),O.forEach(_),F.forEach(_),L.forEach(_),C.forEach(_),this.h()},h(){d(m,"stroke-linecap","round"),d(m,"stroke-linejoin","round"),d(m,"stroke-width","2"),d(m,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),d(a,"xmlns","http://www.w3.org/2000/svg"),d(a,"class","h-5 w-5"),d(a,"fill","none"),d(a,"viewBox","0 0 24 24"),d(a,"stroke","currentColor"),d(l,"class","absolute right-2 top-2 btn btn-square btn-ghost btn-sm text-primary-content"),d(i,"class","absolute inset-0 opacity-0 hover:opacity-100 transition-all"),d(t,"class","relative btn btn-primary w-40 h-40"),this.first=t},m(S,C){I(S,t,C),h(t,o),h(o,r),h(t,c),h(t,i),h(i,l),h(l,a),h(a,m),p||(y=[R(l,"click",re(E)),R(t,"click",N)],p=!0)},p(S,C){e=S,C&64&&n!==(n=e[20].name+"")&&Te(r,n)},r(){g=t.getBoundingClientRect()},f(){Le(t),u()},a(){u(),u=Ie(t,g,Ae,{duration:200})},d(S){S&&_(t),p=!1,oe(y)}}}function et(s){let e,t,o,n,r,c,i,l,a=[],m=new Map,g,u,p,y,E,N,S;function C(f){s[13](f)}function P(f){s[14](f)}let L={$$slots:{default:[xe]},$$scope:{ctx:s}};s[4]!==void 0&&(L.openModal=s[4]),s[5]!==void 0&&(L.closeModal=s[5]),e=new ke({props:L}),J.push(()=>Q(e,"openModal",C)),J.push(()=>Q(e,"closeModal",P));function F(f){s[15](f)}function O(f){s[16](f)}let w={isLoading:s[0],onSubmit:s[8]};s[2]!==void 0&&(w.openModal=s[2]),s[3]!==void 0&&(w.closeModal=s[3]),r=new Ze({props:w}),J.push(()=>Q(r,"openModal",F)),J.push(()=>Q(r,"closeModal",O));let ee=s[6].rooms;const ie=f=>f[20].key;for(let f=0;f<ee.length;f+=1){let v=Me(s,ee,f),T=ie(v);m.set(T,a[f]=we(T,v))}return{c(){W(e.$$.fragment),n=A(),W(r.$$.fragment),l=A();for(let f=0;f<a.length;f+=1)a[f].c();g=A(),u=k("button"),p=ne("svg"),y=ne("path"),this.h()},l(f){X(e.$$.fragment,f),n=j(f),X(r.$$.fragment,f),l=j(f);for(let $=0;$<a.length;$+=1)a[$].l(f);g=j(f),u=M(f,"BUTTON",{class:!0});var v=b(u);p=ae(v,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var T=b(p);y=ae(T,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),b(y).forEach(_),T.forEach(_),v.forEach(_),this.h()},h(){d(y,"stroke-linecap","round"),d(y,"stroke-linejoin","round"),d(y,"stroke-width","2"),d(y,"d","M12 4v16m8-8H4"),d(p,"xmlns","http://www.w3.org/2000/svg"),d(p,"class","h-6 w-6"),d(p,"fill","none"),d(p,"viewBox","0 0 24 24"),d(p,"stroke","currentColor"),d(u,"class","relative btn btn-accent btn-outline w-40 h-40")},m(f,v){Y(e,f,v),I(f,n,v),Y(r,f,v),I(f,l,v);for(let T=0;T<a.length;T+=1)a[T].m(f,v);I(f,g,v),I(f,u,v),h(u,p),h(p,y),E=!0,N||(S=R(u,"click",s[7]),N=!0)},p(f,[v]){const T={};v&8388642&&(T.$$scope={dirty:v,ctx:f}),!t&&v&16&&(t=!0,T.openModal=f[4],Z(()=>t=!1)),!o&&v&32&&(o=!0,T.closeModal=f[5],Z(()=>o=!1)),e.$set(T);const $={};if(v&1&&($.isLoading=f[0]),!c&&v&4&&(c=!0,$.openModal=f[2],Z(()=>c=!1)),!i&&v&8&&(i=!0,$.closeModal=f[3],Z(()=>i=!1)),r.$set($),v&1600){ee=f[6].rooms;for(let H=0;H<a.length;H+=1)a[H].r();a=Re(a,v,ie,1,f,ee,m,g.parentNode,De,we,g,Me);for(let H=0;H<a.length;H+=1)a[H].a()}},i(f){E||(D(e.$$.fragment,f),D(r.$$.fragment,f),E=!0)},o(f){B(e.$$.fragment,f),B(r.$$.fragment,f),E=!1},d(f){x(e,f),f&&_(n),x(r,f),f&&_(l);for(let v=0;v<a.length;v+=1)a[v].d(f);f&&_(g),f&&_(u),N=!1,S()}}}function tt(s,e,t){let o;Be(s,se,w=>t(6,o=w));let n=!1,r="",c=!1,i=()=>{},l=()=>{},a=()=>{},m=()=>{};pe(()=>{se.fetchRooms()});const g=()=>{i()},u=w=>{t(0,n=!0),se.saveRoom(w).then(()=>{l()}).finally(()=>{t(0,n=!1)})},p=w=>{$e(w)},y=w=>{r=w,a()},E=()=>{t(1,c=!0),se.deleteRoom(r).then(m).finally(()=>{t(1,c=!1)})};function N(w){he.call(this,s,w)}function S(w){a=w,t(4,a)}function C(w){m=w,t(5,m)}function P(w){i=w,t(2,i)}function L(w){l=w,t(3,l)}return[n,c,i,l,a,m,o,g,u,p,y,E,N,S,C,P,L,w=>y(w.key),w=>p(w.key)]}class ot extends q{constructor(e){super();K(this,e,tt,et,z,{})}}function lt(s){let e,t,o;return t=new Fe({props:{onSubmit:s[1]}}),{c(){e=k("div"),W(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var r=b(e);X(t.$$.fragment,r),r.forEach(_),this.h()},h(){d(e,"class","w-full flex justify-center pt-40")},m(n,r){I(n,e,r),Y(t,e,null),o=!0},p(n,r){const c={};r&1&&(c.onSubmit=n[1]),t.$set(c)},i(n){o||(D(t.$$.fragment,n),o=!0)},o(n){B(t.$$.fragment,n),o=!1},d(n){n&&_(e),x(t)}}}function nt(s){let e,t;return e=new ot({}),{c(){W(e.$$.fragment)},l(o){X(e.$$.fragment,o)},m(o,n){Y(e,o,n),t=!0},p:G,i(o){t||(D(e.$$.fragment,o),t=!0)},o(o){B(e.$$.fragment,o),t=!1},d(o){x(e,o)}}}function at(s){let e,t,o,n;const r=[nt,lt],c=[];function i(l,a){return l[0]?0:1}return t=i(s),o=c[t]=r[t](s),{c(){e=k("div"),o.c(),this.h()},l(l){e=M(l,"DIV",{class:!0});var a=b(e);o.l(a),a.forEach(_),this.h()},h(){d(e,"class","inline-flex flex-wrap gap-8 justify-start p-12 w-full")},m(l,a){I(l,e,a),c[t].m(e,null),n=!0},p(l,[a]){let m=t;t=i(l),t===m?c[t].p(l,a):(fe(),B(c[m],1,1,()=>{c[m]=null}),de(),o=c[t],o?o.p(l,a):(o=c[t]=r[t](l),o.c()),D(o,1),o.m(e,null))},i(l){n||(D(o),n=!0)},o(l){B(o),n=!1},d(l){l&&_(e),c[t].d()}}}function st(s,e,t){let o="";return pe(()=>{t(0,o=localStorage.getItem("name")),localStorage.getItem("id")||localStorage.setItem("id",je())}),[o,r=>{t(0,o=r)}]}class ut extends q{constructor(e){super();K(this,e,st,at,z,{})}}export{ut as default};
